(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{169:function(e,t){var a="https://api.nodesmith.io/v1/aion/testnet/jsonrpc?apiKey=".concat("8baef3850b99477bb204280ff5a3c7b0"),n=[{outputs:[[Object]],constant:!1,payable:!1,inputs:[[Object],[Object]],name:"isFriend",type:"function"},{outputs:[[Object],[Object],[Object],[Object],[Object]],constant:!1,payable:!1,inputs:[[Object]],name:"getResolution",type:"function"},{outputs:[[Object]],constant:!0,payable:!1,inputs:[],name:"resolutionCount",type:"function"},{outputs:[[Object]],constant:!1,payable:!1,inputs:[[Object]],name:"finalResult",type:"function"},{outputs:[[Object],[Object],[Object]],constant:!1,payable:!1,inputs:[[Object],[Object]],name:"getFriend",type:"function"},{outputs:[],constant:!1,payable:!0,inputs:[[Object],[Object],[Object],[Object],[Object],[Object],[Object],[Object]],name:"newResolution",type:"function"},{outputs:[],constant:!1,payable:!1,inputs:[[Object],[Object]],name:"makeVote",type:"function"},{outputs:[],inputs:[[Object]],name:"ResolutionCreated",anonymous:!1,type:"event"},{outputs:[],inputs:[[Object],[Object]],name:"VoteCreated",anonymous:!1,type:"event"},{outputs:[],inputs:[[Object]],name:"ResolutionCompleted",anonymous:!1,type:"event"}];e.exports={CONTRACT_ADDRESS:"0xa0865422e964feb6bf885ac8bf3420a70ef8b61c9e56b4e18ccdd666a25e62ff",NODE_URL:a,BOND_ABI:n}},336:function(e,t,a){e.exports=a(700)},540:function(e,t){},547:function(e,t){},548:function(e,t){},550:function(e,t){},584:function(e,t){},586:function(e,t){},587:function(e,t){},593:function(e,t){},596:function(e,t){},616:function(e,t){},619:function(e,t){},636:function(e,t){},639:function(e,t){},680:function(e,t){},689:function(e,t){},691:function(e,t){},693:function(e,t,a){},700:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),i=a(23),r=a.n(i),c=a(72),l=a(167),s=a.n(l),u=a(263),m=a(66),d=a(67),p=a(70),g=a(68),b=a(71),h=a(170),f=a(22),v=a(36),E=a.n(v),O=a(114),y=a(32),j=a.n(y),C=a(18),w=a.n(C),B=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(g.a)(t).call(this,e))).state={imageId:0},a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.setState({imageId:Math.floor(1+15*Math.random())})}},{key:"render",value:function(){var e=this.props.classes,t="/assets/animals/Group_".concat(this.state.imageId,".svg");return o.a.createElement("div",null,o.a.createElement(j.a,{className:e.card,elevation:1},o.a.createElement("div",null,o.a.createElement("img",{className:e.image,src:t,style:{float:"left",marginRight:"20px"}}),o.a.createElement("div",{style:{position:"relative",paddingTop:"20px"}},o.a.createElement(w.a,{variant:"h4",gutterBottom:!0},"Hello,"),o.a.createElement(w.a,{variant:"h6",gutterBottom:!0},"Get Started by Creating a Bond")))))}}]),t}(n.Component),k=Object(f.withStyles)(function(e){return{card:Object(O.a)({},e.mixins.gutters(),{maxWidth:350,paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit,background:"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)",overflow:"auto"}),image:{marginLeft:"auto",marginRight:"auto",display:"block"}}})(B),x=a(48),S=a.n(x),N=a(33),F=a.n(N),D=a(29),A=a.n(D),M=a(26),T=a.n(M),I=a(267),R=a.n(I),_=a(266),P=a.n(_),G=a(61),L=a.n(G),z=a(69),Y=a.n(z),W=a(115);function H(e){var t=new Date(e);return["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()]+" "+t.getDate()+", "+t.getFullYear()}var J=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(g.a)(t).call(this,e))).submitBond=function(){a.validate(a.state.bondMessage,a.state.stakeAmount,a.state.deadline,a.state.friends).then(function(e){a.props.onClose(0)}).then(function(e){return a.props.contract.resolutionCount.call()}).then(function(e){a.props.onClose(e)}).catch(function(e){a.setState({error:e.toString()})})},a.validate=function(e,t,a,n){var o=!n.map(function(e){return null!==e&&66==e.length}).includes(!1);return new Promise(function(i,r){null!==e&&e.length>1&&null!==t&&t>0&&null!==a&&o?i({bondMessage:e,stakeAmount:t,deadline:a,friends:n}):(null!==e&&0!==e.length||r("Please enter your Bond promise"),null!==t&&0!==t||r("Please enter a valid Aion amount to stake"),console.log("deadline:"+a),null===a&&r("Please enter a valid date for your Bond"),o||r("Please enter 5 valid Aion adresses"))})},a.handleBondMessage=function(e){a.setState({bondMessage:e})},a.handleBondStake=function(e){a.setState({stakeAmount:e})},a.handleBondDeadline=function(e){a.setState({deadline:e})},a.state={open:e.open,bondMessage:null,stakeAmount:1,deadline:new Date,friends:[null,null,null,null,null],error:null},a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.setState({imageId:Math.floor(1+15*Math.random())})}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.open,i=t.onClose,r=this.state,c=r.bondMessage,l=r.stakeAmount,s=r.deadline,u=r.friends,m=r.error;return o.a.createElement("div",{id:"test"},o.a.createElement(S.a,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:n,onClose:i},o.a.createElement("div",{className:a.root},o.a.createElement(j.a,{className:a.card,elevation:1},o.a.createElement("img",{alt:"Aion Watermark",style:{position:"absolute",bottom:0,right:0,zIndex:0},width:"250",height:"250px",src:"assets/images/light_aion_logo_watermark.png"}),o.a.createElement("div",null,o.a.createElement(w.a,{variant:"h4",gutterBottom:!0},"Your Bond"),o.a.createElement(E.a,{spacing:24},o.a.createElement(F.a,{className:a.input,id:"outlined-multiline-flexible",label:"Your Promise",onChange:function(t){return e.handleBondMessage(t.target.value)},value:c,multiline:!0,fullWidth:!0,rowsMax:"4",margin:"normal",variant:"outlined"}),o.a.createElement(F.a,{id:"standard-name",label:"Your Stake",onChange:function(t){return e.handleBondStake(t.target.value)},value:l,margin:"normal",type:"number",variant:"outlined",InputProps:{startAdornment:o.a.createElement(L.a,{position:"start"},o.a.createElement("img",{alt:"Aion Logo",src:"/assets/images/white_aion_logo.png",width:"20px",height:"20px"}))}}),"\xa0",o.a.createElement(W.a,{margin:"normal",label:"Your Deadline",value:s,onChange:this.handleBondDeadline,variant:"outlined"}),o.a.createElement(w.a,{variant:"h5",style:{marginTop:"10px"}},"Your Friends:"),o.a.createElement("div",null,o.a.createElement(E.a,null,o.a.createElement(F.a,{id:"standard-name",label:"Friend 1",onChange:function(e){u[0]=e.target.value},value:u[0],margin:"normal",variant:"outlined",className:this.props.classes.input}),"\xa0",o.a.createElement(F.a,{id:"standard-name",label:"Friend 2",onChange:function(e){u[1]=e.target.value},value:u[1],margin:"normal",variant:"outlined",className:this.props.classes.input}),o.a.createElement(F.a,{id:"standard-name",label:"Friend 3",onChange:function(e){u[2]=e.target.value},value:u[2],margin:"normal",variant:"outlined",className:this.props.classes.input}),"\xa0",o.a.createElement(F.a,{id:"standard-name",label:"Friend 4",onChange:function(e){u[3]=e.target.value},value:u[3],margin:"normal",variant:"outlined",className:this.props.classes.input}),o.a.createElement(F.a,{id:"standard-name",label:"Friend 5",onChange:function(e){u[4]=e.target.value},value:u[4],margin:"normal",variant:"outlined",className:this.props.classes.input}),o.a.createElement("div",null,null!==m?o.a.createElement("span",null,o.a.createElement(w.a,{variant:"subtitle",gutterBottom:!0,style:{color:"#c41111"}},o.a.createElement(P.a,null),"\xa0",o.a.createElement("b",null,m))):null,o.a.createElement("div",{className:a.submit},o.a.createElement(A.a,{variant:"contained",color:"primary",disabled:""===this.state.message,className:a.button,onClick:this.submitBond},"Stake Your Bond",o.a.createElement(R.a,{className:a.rightIcon})))))))),o.a.createElement(T.a,{"aria-label":"Close",className:a.closeButton,onClick:function(){i(null)}},o.a.createElement(Y.a,null))))))}}]),t}(n.Component),V=Object(f.withStyles)(function(e){return{root:{width:"100%",height:"100%"},card:Object(O.a)({},e.mixins.gutters(),{maxWidth:500,paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit,background:"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)",marginLeft:"auto",marginRight:"auto",top:"50%",left:"50%",transform:"translate(-50%,-50%)",position:"absolute"}),image:{marginLeft:"auto",marginRight:"auto",display:"block"},input:{marginTop:2*e.spacing.unit,marginBottom:2*e.spacing.unit},submit:{textAlign:"center",marginBottom:8},rightIcon:{marginLeft:e.spacing.unit},button:{margin:e.spacing.unit,padding:2*e.spacing.unit},closeButton:{margin:e.spacing.unit,position:"absolute",top:0,right:0}}})(J),K=a(62),U=a.n(K),q=a(63),Q=a.n(q),X=a(65),Z=a.n(X),$=a(64),ee=a.n($);var te=Object(f.withStyles)(function(e){return{headingGrid:{flexGrow:1},card:{marginTop:24,maxWidth:500,background:"linear-gradient(45deg, #D4005E 30%, #FCF653 90%)",zIndex:1},cardContent:{margin:4*e.spacing.unit},actionsGroup:{background:"#ffffff"},price:{color:"#D4005E"}}})(function(e){var t=e.classes,a=e.bond;return o.a.createElement(U.a,{className:t.card},o.a.createElement(Q.a,null,o.a.createElement(ee.a,null,o.a.createElement(E.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center"},o.a.createElement(w.a,{gutterBottom:!0,variant:"h5",component:"h2"},H(a.endTime)),o.a.createElement(w.a,{className:t.price,gutterBottom:!0,variant:"h5",component:"h2"},o.a.createElement("img",{alt:"Aion Logo",src:"/assets/images/red_aion_logo.png",width:"18px",height:"18px"}),"\xa0",(a.stake/Math.pow(10,18)).toFixed(2))),o.a.createElement(w.a,{className:t.cardContent,component:"p"},a.message))),o.a.createElement(Z.a,{className:t.actionsGroup},o.a.createElement(A.a,{size:"small",color:"primary"},"Complete")))}),ae=a(268),ne=a.n(ae);var oe=Object(f.withStyles)(function(e){return{headingGrid:{flexGrow:1},card:{marginTop:24,maxWidth:500,background:"linear-gradient(45deg, #D4005E 30%, #FCF653 90%)",zIndex:1},cardContent:{margin:4*e.spacing.unit},actionsGroup:{background:"#ffffff",display:"flex"},price:{color:"#D4005E"},actionPositive:{color:"#00ff00"},actionNegative:{color:"#ff0000"}}})(function(e){var t=e.classes,a=e.bond;return o.a.createElement(U.a,{className:t.card},o.a.createElement(Q.a,null,o.a.createElement(ee.a,null,o.a.createElement(E.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center"},o.a.createElement(w.a,{gutterBottom:!0,variant:"h5",component:"h2"},H(a.endTime)),o.a.createElement(w.a,{className:t.price,gutterBottom:!0,variant:"h5",component:"h2"},o.a.createElement("img",{alt:"Aion Logo",src:"/assets/images/red_aion_logo.png",width:"18px",height:"18px"}),"\xa0",(a.stake/Math.pow(10,18)).toFixed(2))),o.a.createElement(w.a,{className:t.cardContent,component:"p"},a.message))),o.a.createElement(Z.a,{className:t.actionsGroup},o.a.createElement(T.a,{className:t.actionPositive,"aria-label":"Approve"},o.a.createElement(ne.a,null)),o.a.createElement(T.a,{className:t.actionNegative,"aria-label":"Disapprove"},o.a.createElement(Y.a,null))))}),ie=a(269),re=(a(525),a(693),a(270)),ce=a.n(re),le=a(271),se=a.n(le),ue=a(112),me=a.n(ue),de=a(272),pe=a.n(de),ge=a(113),be=a.n(ge),he=a(169),fe=function(e){function t(e,a){var n;return Object(m.a)(this,t),(n=Object(p.a)(this,Object(g.a)(t).call(this,e))).componentDidMount=function(){Object(u.a)(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,this)}))()},n.handleOpenCreateBond=function(){n.setState({createBondOpened:!0}),console.log("handleOpen:")},n.onBondCreationFinished=function(e){console.log("onBondCreationFinished:"+e),n.setState({createBondOpened:!1}),null!=e&&(n.setState({commitState:1}),setTimeout(function(){n.setState({commitState:2})},1e4))},n.accountChanged=function(e){var t=window.aionweb3.eth.contract(he.BOND_ABI).at(he.CONTRACT_ADDRESS);console.log("contract:"+t),n.setState({web3:window.aionweb3,contract:t});for(var a=[],o=0;o<10;o++)a.push({id:o,message:"Run the Toronto marathon in May, in under 4hrs!",stake:3*Math.pow(10,18),endTime:(new Date).getTime()+864e5,friendsList:["0xa0b4349d567732c1287abb20880deedd84adb0f3163c9bd57a5948a1234a14b5","0xa0cfbefa57d686eeb52480734f28755be073cb8c71b757a7401b1dd46b5b45de","0xa06d969971c704fca794718754cafb4486b637621dc76c10a1fd6e6b82a15b1a","0xa04eeb41d3b82447b85163119845767e019153b5a8f220896bdc08460d1696bc","0xa058b4acf2e61ecff2f00c0cf47ae4107c6f8c259aa662f2e159053c8d25ef22"],creator:o<5});n.setState({bonds:a})},n.handleSnackClose=function(e,t){"clickaway"!==t&&n.setState({commitState:0})},n.state={web3:null,contract:null,createBondOpened:!1,bonds:null,commitState:0},n}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e,t=this,a=this.props.classes,n=this.state,i=n.createBondOpened,r=n.contract,l=n.web3,s=n.bonds,u=n.commitState,m=[];if(null===s||0===s.length)m.push(o.a.createElement(k,{style:{height:"100%"}}));else{var d=0,p=[],g=0,b=[];s.forEach(function(e){e.creator?p.push(o.a.createElement(te,{id:d++,bond:e})):b.push(o.a.createElement(oe,{id:g++,bond:e}))}),p.length>0&&(p.unshift(o.a.createElement(h.a,{id:d++,className:a.sectionHeader,variant:"h3",gutterBottom:!0},"Your Bonds")),m.push.apply(m,p)),b.length>0&&(b.unshift(o.a.createElement(h.a,{id:g++,className:a.sectionHeader,variant:"h3",gutterBottom:!0},"Friend's Bonds")),m.push.apply(m,b))}return o.a.createElement("div",{style:{height:"100%"}},o.a.createElement("canvas",{id:"stars",width:"300",height:"300"}," "),o.a.createElement(ie.Web3Provider,{style:{zIndex:1},onChangeAccount:function(e){return t.accountChanged(e)}},o.a.createElement(E.a,{className:a.root,container:!0,direction:"column",justify:"center",spacing:"32",alignItems:"center"},m),o.a.createElement(me.a,{color:"primary","aria-label":"Add",className:a.fab,onClick:this.handleOpenCreateBond},o.a.createElement(pe.a,null)),o.a.createElement(be.a,(e={ContentProps:{classes:{root:1==u?a.waitingSnack:a.doneSnack}},anchorOrigin:{vertical:"bottom",horizontal:"left"},open:1===u||2===u,autoHideDuration:6e3,onClose:function(){t.setState({commitState:0})}},Object(c.a)(e,"ContentProps",{"aria-describedby":"message-id"}),Object(c.a)(e,"message",o.a.createElement("span",{id:"message-id"},1==u?"Saving Bond to the blockchain...":"Bond has been saved to the blockchain... ")),Object(c.a)(e,"action",[o.a.createElement(T.a,{key:"close","aria-label":"Close",color:"inherit",className:a.close,onClick:this.handleClose},o.a.createElement(Y.a,null))]),e)),o.a.createElement(V,{web3:l,contract:r,open:i,onClose:this.onBondCreationFinished})))}}]),t}(n.Component),ve=Object(f.withStyles)(function(e){return{root:{minHeight:"100%",zIndex:1},fab:{position:"fixed",bottom:2*e.spacing.unit,zIndex:1,right:"20%",margin:"0 auto"},sectionHeader:{marginTop:4*e.spacing.unit,textShadow:"2px 2px rgba(0,0,0,0.3)"},waitingSnack:{background:ce.a[600]},doneSnack:{background:se.a[700]}}},{withTheme:!0})(fe),Ee=Object(f.createMuiTheme)({palette:{primary:{main:"#D4005E",contrastText:"#fff"},secondary:{main:"#FCF653",contrastText:"#fff"},type:"dark"}}),Oe=a(273);console.log(Ee),r.a.render(o.a.createElement(f.MuiThemeProvider,{theme:Ee},o.a.createElement(W.b,{utils:Oe.a},o.a.createElement(ve,null))),document.getElementById("root"))}},[[336,2,1]]]);
//# sourceMappingURL=main.1b5e3c0b.chunk.js.map